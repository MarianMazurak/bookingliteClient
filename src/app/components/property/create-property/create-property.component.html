<app-user-navigation></app-user-navigation>
<div id="menucard" style="margin-top: 4%; max-height: 600px">
  <div class="box">

    <div class="card">
      <article class="card-body">
        <h4 class="card-title mb-2 mt-1">Create Property</h4>

        <form #createPropertyForm=ngForm (ngSubmit)="createProperty(createPropertyForm)"
              [ngClass]="{'was-validated' : !formValid}">
          <div class="row">
            <div class="col-6">
              <div class="form-group">
                <label>Property Name</label>
                <input name="name" #name="ngModel" required [(ngModel)]="propertyCreate.name" class="form-control"
                       placeholder="Property Name" type="text">
                <div class="invalid-feedback">Property Name is required!</div>
              </div>

              <div class="form-group">
                <label>Email</label>
                <input class="form-control" required name="email" [(ngModel)]="propertyCreate.contactEmail"
                       placeholder="Email" type="email" required pattern="[^@\s]+@[^@\s]+\.[^@\s]+">
                <div class="invalid-feedback">Valid email is required!</div>
              </div>

              <div class="form-group">
                <label>Phone Number</label>
                <input name="phone number" class="form-control" [(ngModel)]="propertyCreate.phoneNumber"
                       placeholder="phone number" type="text" required pattern="[0-9]{10}">
                <div class="invalid-feedback">Phone Number can hold only number format and 10 digits!</div>
              </div>

              <div class="form-group">
                <label>Property Type</label>
                <select class="form-control" #selectPropertyType
                        (change)="changePropertyTypes(selectPropertyType.value)">
                  <option *ngFor="let propertyType of propertyTypes" value="{{propertyType.id}}">{{propertyType.name}}
                  </option>
                </select>
              </div>

              <div class="form-group">
                <label>Facilities</label>
                <div class="custom-control custom-checkbox"
                     *ngFor="let facility of facilities">
                  <input type="checkbox" class="custom-control-input" id="customCheck{{facility.id}}"
                         (change)="workWithCheckboxes(facility.id)">
                  <label class="custom-control-label"
                         for="customCheck{{facility.id}}">{{facility.name}}</label>
                </div>
              </div>

            </div>

            <div class="col-6">
              <div class="form-group">
                <label>Address Line</label>
                <input class="form-control" required name="addressline" [(ngModel)]="propertyCreate.addressLine"
                       placeholder="Address Line" type="text">
                <div class="invalid-feedback">Address line is required!</div>
              </div>


              <div class="form-group">
                <label>Country</label>
                <select class="form-control" #selectCountry (change)="changeCountry(selectCountry.value)">
                  <option *ngFor="let country of countries" value="{{country.id}}">{{country.name}}</option>
                </select>
              </div>

              <div *ngIf="cities" class="form-group">
                <label>City</label>
                <select class="form-control" #selectCity (change)="changeCity(selectCity.value)">
                  <option *ngFor="let city of cities" value="{{city.id}}">{{city.name}}</option>
                </select>
              </div>

              <div class="form-group">
                <label>Zip</label>
                <input class="form-control" required name="zip"
                       [(ngModel)]="propertyCreate.zip" placeholder="12345" type="text" required pattern="[0-9]{5}">
                <div class="invalid-feedback">Zip can hold only number format and 5 digits!</div>
              </div>

              <div class="form-group">
                <label>Description</label>
              <textarea class="form-control" id="FormControlTextarea" rows="4" placeholder="write your descrition..."
                        [(ngModel)]="propertyCreate.description" name="message"></textarea>
              </div>
            </div>

          </div>
          <ng-container *ngIf="errorMessage !== ''">
            <div class="alert alert-danger">
              {{errorMessage}}
            </div>
          </ng-container>

          <div class="form-group">
            <button type="submit" class="btn btn-primary btn-block">Create</button>
          </div>
        </form>
      </article>
    </div>
  </div>
</div>

